<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido de Comida</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Pedido de Comida</h1>
    </header>

    <main>
        <section id="productos">
            <h2>Productos</h2>
            <div id="buscador-productos">
                <input 
                    type="text" 
                    id="buscar-producto" 
                    placeholder="游댌 Buscar por nombre o ingredientes..."
                    autocomplete="off"
                >
                <div id="resultados-busqueda" class="oculto"></div>
            </div>
            <div id="loading-productos" class="loading-spinner oculto">
                <div class="spinner"></div>
                <p>Cargando productos...</p>
            </div>
            <div id="productos-container"></div>
        </section>

        <section id="carrito">
            <h2>Carrito</h2>
            <div id="lista-carrito"></div>
            <p>Total: $<span id="total">0</span></p>
        </section>

        <section id="pedido">
            <h2>Datos del Pedido</h2>
            <form id="form-pedido">
                <label for="tipo">Tipo de Pedido:</label>
                <select id="tipo" required>
                    <option value="">Seleccionar</option>
                    <option value="Env칤o">Env칤o</option>
                    <option value="Retiro">Retiro</option>
                </select>

                <div id="campos-envio" style="display: none;">
                    <label for="direccion">Direcci칩n (obligatoria para Env칤o):</label>
                    <input type="text" id="direccion">
                </div>

                <div id="campos-retiro" style="display: none;">
                    <label for="nombre">Nombre (obligatorio para Retiro):</label>
                    <input type="text" id="nombre">
                </div>

                <label for="horario">Horario:</label>
                <select id="horario" required>
                    <option value="">Seleccionar horario</option>
                    <!-- Opciones generadas din치micamente por JavaScript -->
                </select>

                <p style="font-size: 0.9em; color: #666; margin: 5px 0;">* El horario puede variar seg칰n el trabajo que haya.</p>

                <label for="pago">Forma de Pago:</label>
                <select id="pago" required>
                    <option value="">Seleccionar</option>
                    <option value="Efectivo">Efectivo</option>
                    <option value="Tarjeta">Tarjeta</option>
                    <option value="Transferencia">Transferencia</option>
                </select>

                <label for="telefono">Tel칠fono:</label>
                <input 
                    type="tel" 
                    id="telefono" 
                    required
                    inputmode="numeric"
                    pattern="[0-9+\-\s()]*"
                    placeholder="Ej: 3425123456"
                    maxlength="20"
                >

                <label for="aclaracion">Aclaraci칩n (opcional):</label>
                <textarea 
                    id="aclaracion" 
                    rows="3" 
                    placeholder="Agregue cualquier aclaraci칩n adicional..."
                    maxlength="200"
                    aria-label="Campo de aclaraci칩n opcional para el pedido"
                ></textarea>

                <div id="mensaje-form" class="mensaje-form oculto" role="status" aria-live="polite"></div>

                <button type="submit">Enviar Pedido</button>
            </form>
        </section>

        <section id="admin" style="display: none;">
            <h2>Panel Admin</h2>
            <input type="password" id="admin-password" placeholder="Contrase침a">
            <button id="admin-login">Acceder</button>
            <div id="admin-content" style="display: none;">
                <h3>Pedidos</h3>
                <div id="lista-pedidos"></div>
                <button id="exportar-json">Exportar JSON</button>
                <button id="limpiar-historial">Limpiar Historial</button>
            </div>
        </section>
    </main>

    <footer>
        <button id="btn-admin" style="position: fixed; bottom: 10px; right: 10px; opacity: 0.5;">Admin</button>
    </footer>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>